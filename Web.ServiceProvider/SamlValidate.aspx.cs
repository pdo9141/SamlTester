using Saml;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Security.Cryptography.X509Certificates;
using System.Text;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace Web.ServiceProvider
{
    public partial class _SamlValidate : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            var binFolderPath = Server.MapPath("bin");
            var clientId = Request.Form["ClientId"];
            var certName = "";

            if ("1328".Equals(clientId))
                certName = "modotech-test-cert-public.pem";

            Saml.Response samlResponse = new Response(File.ReadAllText(Path.Combine(binFolderPath, certName)));
            //Saml.Response samlResponse = new Response(File.ReadAllBytes(Path.Combine(binFolderPath, "modotech-test-cert-public.pem")));
            samlResponse.LoadXmlFromBase64(Request.Form["SAMLResponse"]); //SAML providers usually POST the data into this var
            //samlResponse.LoadXmlFromBase64(GetSamlResponse());

            var isValid = samlResponse.IsValid();
            if (isValid)
            {
                //WOOHOO!!! user is logged in
                //YAY!

                //Some more optional stuff for you
                //lets extract username/firstname etc
                string username, email, firstname, lastname;
                try
                {
                    username = samlResponse.GetNameID();
                    email = samlResponse.GetEmail();
                    firstname = samlResponse.GetFirstName();
                    lastname = samlResponse.GetLastName();

                    // user has been authenticated, put your code here, like set a cookie or something...
                    // or call FormsAuthentication.SetAuthCookie() or something
                    // auto create user here?
                }
                catch (Exception ex)
                {
                    //insert error handling code
                    //no, really, please do
                }
            }

            ltrSSOStatus.Text = isValid ? "successful" : "unsuccessful";
        }

        private string GetSamlResponse()
        {
            return System.Web.HttpUtility.UrlDecode("PFJlc3BvbnNlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIElEPSJfZjEwNGU1ZmQtMzg2Ny00OGViLWFjYjUtNzUyYjY2Njg3NjVkIiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxOC0wMy0wNFQwNDoyMDoxOS40MDAyMzdaIiBEZXN0aW5hdGlvbj0iaHR0cDovL3d3dy5kYXZpZHNwOC5jb20vU1NPLmFzbXgiIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiPjxJc3N1ZXIgeG1sbnM9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iPlRlc3QgUG9zdCBTQU1MPC9Jc3N1ZXI%2bPFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI%2bPFNpZ25lZEluZm8%2bPENhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIgLz48U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIiAvPjxSZWZlcmVuY2UgVVJJPSIjX2YxMDRlNWZkLTM4NjctNDhlYi1hY2I1LTc1MmI2NjY4NzY1ZCI%2bPFRyYW5zZm9ybXM%2bPFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIiAvPjxUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIgLz48L1RyYW5zZm9ybXM%2bPERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIiAvPjxEaWdlc3RWYWx1ZT5IaDVRbWlFaG5JNjV3UmU1dmZYcWJoK1ZOdjQ9PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8%2bPFNpZ25hdHVyZVZhbHVlPmh0MjF1WE90aFhGTnluUXNpNHhwMUZNK09XUUEwTFk2cFgxZXpHUGV1WS81QlBWYzV4bzNsSms0c0cyTzVvZllGWXAzZFFwSllTeHRBc2ozNFlqemVKRDc2djJZNlRWdHdTMUJwSEdkd3JqMUdqM2VrMzNpM1pBTW90VzBLM0l2TC82eWVKMFFZNFVXeFRsUUtFKzluVFdWZG1PbEhZdkhyRlBWazE2V0l0cC95TWlRbDVaZ1pTSGR3dGtzVnFXQ0l6Q3VSaFYrVmFCa0d3NFlodUZPczZMZUJ2NmdRSjM1KzRVQko3b1pSVW85a3Z6S0ZnQ0hOUU84Ti9hUmtLK3gvTjkyWEhTNUVLTEZyaXZEWXozWUc5WG83ekVlRy9lbFJGRzNZYlZjQVhDeTNONUpzb1dJTlJlZlljUUliWmpCeEo5RnZhSHNtZVQ1bFVwUDRxNmw4Zz09PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE%2bPFg1MDlDZXJ0aWZpY2F0ZT5NSUlFVkRDQ0F6eWdBd0lCQWdJSkFJdTdBdThlWXBnNk1BMEdDU3FHU0liM0RRRUJDd1VBTUlHK01Rc3dDUVlEVlFRR0V3SlZVekVMTUFrR0ExVUVDQXdDUTBFeEZUQVRCZ05WQkFjTURFZGhjbVJsYmlCSGNtOTJaVEVhTUJnR0ExVUVDZ3dSVFc5a2IxUmxZMmhUYjJ4MWRHbHZibk14SFRBYkJnTlZCQXNNRkZOdlpuUjNZWEpsSUVWdVoybHVaV1Z5YVc1bk1TSXdJQVlEVlFRRERCbDNkM2N1Ylc5a2IzUmxZMmh6YjJ4MWRHbHZibk11WTI5dE1Td3dLZ1lKS29aSWh2Y05BUWtCRmgxemRYQndiM0owUUcxdlpHOTBaV05vYzI5c2RYUnBiMjV6TG1OdmJUQWVGdzB4T0RBek1ETXlNRFUwTlRGYUZ3MHhPVEF6TURNeU1EVTBOVEZhTUlHK01Rc3dDUVlEVlFRR0V3SlZVekVMTUFrR0ExVUVDQXdDUTBFeEZUQVRCZ05WQkFjTURFZGhjbVJsYmlCSGNtOTJaVEVhTUJnR0ExVUVDZ3dSVFc5a2IxUmxZMmhUYjJ4MWRHbHZibk14SFRBYkJnTlZCQXNNRkZOdlpuUjNZWEpsSUVWdVoybHVaV1Z5YVc1bk1TSXdJQVlEVlFRRERCbDNkM2N1Ylc5a2IzUmxZMmh6YjJ4MWRHbHZibk11WTI5dE1Td3dLZ1lKS29aSWh2Y05BUWtCRmgxemRYQndiM0owUUcxdlpHOTBaV05vYzI5c2RYUnBiMjV6TG1OdmJUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtMYTB1V29WYUt1bWJpaFJuRE0ybGQ5d2FsdHk4ZmhZNldiVkR5WnNGZEJaa0o3N0JlU2F4am51MDI5ekZvSVFhdFJSVHhGMnF3UHBIN3NTdkhPVUpIWXhRUFNNL3ZoWXpzblVNdkVOTURId1JRVVVVTHE3b1RiQzhIZkpic1Y3dWtJaFU5MTlGTThtTGhYY1hJRTI1bU5POVRZWGhNZlA5MWZJV3ZWMlpTTlVDZlh2SzNycjJ1STBUREF5WnRya1FuU2lnNHBkenFmeVZzZ0wwQ2RHUjBBbGVKVm9nZlFHeWdZbGFyZ0hZTlk3V29vbStWV3h3bVlscnFxNWpGeWw5MjdVMmRLZUEza0hvemtxNmZ4Y25FdFByUUEvTnRXNXU4cUM1bmkyU2xNZGJ2ZjNzd1oxQjc1VU5xbk1nelYzMmRTeThlcFJlTVhKcXF2bUhVM1hWOENBd0VBQWFOVE1GRXdIUVlEVlIwT0JCWUVGREVpZGdVMW1ZYUR5K2Q3eVVJcTEyNmxnMjBITUI4R0ExVWRJd1FZTUJhQUZERWlkZ1UxbVlhRHkrZDd5VUlxMTI2bGcyMEhNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRnBSczFKOHcyb3lCYkljYnN3ZzNoVHcyd0wzOEgvMmIycE9SeUZIeHFMbyt4Z2NZemdKaVQvMFJmbHA1TUVXVjN1bWFpa2ZuM09ON3VOSEorbzUyRnRpRUxaQ3REVFJUM0ZUc3IzUUhWWTZ6TlRVc0lFU1pwbk5McC8rYlFsRnlleHAyaTgxbHFDMzZFdjJ5YnBrdVhjU1U1L001dnNTckVGK2tpSzdOTnZxaEhZWDE3cDdZTkkwaFdVY2kzaEsyTzEzaUhvK3BJREo4T2t1RVV4R1o0aE5CV0h0OFk3emZScWJNUHlGL24vV2UyTGswWThrQ0taaXVvSjNLN1pKbnVGczcrVTA5ZVhUcmk3bjZQYllST3ZtOU5XdWdNNkVpWWlCd1M4Ni8xQjZzU09QaEJVbEdIT1FWY01aWDRDNE1ySWtObFIybFNON1EwYytvWlBneGxFPTwvWDUwOUNlcnRpZmljYXRlPjwvWDUwOURhdGE%2bPC9LZXlJbmZvPjwvU2lnbmF0dXJlPjxTdGF0dXM%2bPFN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L1N0YXR1cz48QXNzZXJ0aW9uIFZlcnNpb249IjIuMCIgSUQ9Il84MzVlNDkxYS0xOWFjLTRjZGItYTI1Zi1kZTc4OTI4MzQ4OTEiIElzc3VlSW5zdGFudD0iMjAxOC0wMy0wNFQwNDoyMDoxOS43NTU3ODI4WiIgeG1sbnM9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iPjxJc3N1ZXI%2bVGVzdCBQb3N0IFNBTUw8L0lzc3Vlcj48U3ViamVjdD48TmFtZUlEIE5hbWVRdWFsaWZpZXI9Im1kYXZpZHNwOC5jb20iPjE4PC9OYW1lSUQ%2bPFN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE4LTAzLTA0VDA0OjI1OjE5LjgwOTkxNTBaIiBSZWNpcGllbnQ9Imh0dHA6Ly93d3cuZGF2aWRzcDguY29tL1NTTy5hc214IiAvPjwvU3ViamVjdENvbmZpcm1hdGlvbj48L1N1YmplY3Q%2bPENvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE4LTAzLTA0VDA0OjIwOjE5Ljc1NTc4MjhaIiBOb3RPbk9yQWZ0ZXI9IjIwMTgtMDMtMDRUMDQ6MjU6MTkuNzU2NzgyMVoiPjxBdWRpZW5jZVJlc3RyaWN0aW9uPjxBdWRpZW5jZT5tZGF2aWRzcDguY29tPC9BdWRpZW5jZT48L0F1ZGllbmNlUmVzdHJpY3Rpb24%2bPC9Db25kaXRpb25zPjxBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTgtMDMtMDRUMDQ6MjA6MTkuNzU3Nzg3NloiPjxBdXRobkNvbnRleHQ%2bPEF1dGhuQ29udGV4dENsYXNzUmVmPkF1dGhuQ29udGV4dENsYXNzUmVmPC9BdXRobkNvbnRleHRDbGFzc1JlZj48L0F1dGhuQ29udGV4dD48L0F1dGhuU3RhdGVtZW50PjxBdHRyaWJ1dGVTdGF0ZW1lbnQ%2bPEF0dHJpYnV0ZSBOYW1lPSJlbWFpbCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2bPEF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj5wZG85MTQxQGdtYWlsLmNvbTwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPEF0dHJpYnV0ZSBOYW1lPSJmaXJzdG5hbWUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6YmFzaWMiPjxBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHNkOnN0cmluZyI%2bUGhpbGxpcDwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPEF0dHJpYnV0ZSBOYW1lPSJsYXN0bmFtZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2bPEF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj5EbzwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPC9BdHRyaWJ1dGVTdGF0ZW1lbnQ%2bPC9Bc3NlcnRpb24%2bPC9SZXNwb25zZT4%3d");
            //return "SAMLResponse=PFJlc3BvbnNlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIElEPSJfZThmMTk0ZDEtNmNiZS00NWRkLWI2NDktNmFlODZiMmUyM2U1IiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxOC0wMy0wNFQwMzozNToxNi42ODExNDE3WiIgRGVzdGluYXRpb249Imh0dHA6Ly93d3cuZGF2aWRzcDguY29tL1NTTy5hc214IiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIj48SXNzdWVyIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIj5UZXN0IFBvc3QgU0FNTDwvSXNzdWVyPjxTaWduYXR1cmUgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiIC8%2bPFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIgLz48UmVmZXJlbmNlIFVSST0iI19lOGYxOTRkMS02Y2JlLTQ1ZGQtYjY0OS02YWU4NmIyZTIzZTUiPjxUcmFuc2Zvcm1zPjxUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIgLz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiIC8%2bPC9UcmFuc2Zvcm1zPjxEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIgLz48RGlnZXN0VmFsdWU%2bYXJLcTZjOWRpaHJrQzlpM0RZR3Yxek85dkpVPTwvRGlnZXN0VmFsdWU%2bPC9SZWZlcmVuY2U%2bPC9TaWduZWRJbmZvPjxTaWduYXR1cmVWYWx1ZT5kTzYzaHlWSllRYWtPd2J5L0M4aHhuZ0dYU2hOa0hEK2taS3REa1pNTDVReFMyUjczcnVHeGpKME9BZGRmL3MrWHhZNWdLWmNtZWQ5cnZoeGhSVElXRCtFNEt2NHN4NWNKK3B5bXRjZTNQNjFZTnBuajNaTENlMzBWOXhRRWdUODNLWUplYjF0UDNpRGN1UG5DZVRyR3VvRHZNMTlGaGRzV29Eb3RhQWJSSi9md2pZQnNubDVyZ1lpNUwxZXlxdVl6UDZ5eXphYXFpcFhsTU9LTWpVcDJ4SGI0ZWp1dkdSNjJNNGRPQXd6L0xOdlVSeXFRUnNOR3NvTXJVTy9mODEva0txSHQvWlJaNGhMak9VY1F5QlE3dGt6and6SGFMaXZyQ0tMNks2NmR2TVJtb0N6ZWdhcG9lQmo5Z2ZSeDZoV0NSdTlIcVpvL29rL3IyN2h0bW54R0E9PTwvU2lnbmF0dXJlVmFsdWU%2bPEtleUluZm8%2bPFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU%2bTUlJRVZEQ0NBenlnQXdJQkFnSUpBSXU3QXU4ZVlwZzZNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1JRytNUXN3Q1FZRFZRUUdFd0pWVXpFTE1Ba0dBMVVFQ0F3Q1EwRXhGVEFUQmdOVkJBY01ERWRoY21SbGJpQkhjbTkyWlRFYU1CZ0dBMVVFQ2d3UlRXOWtiMVJsWTJoVGIyeDFkR2x2Ym5NeEhUQWJCZ05WQkFzTUZGTnZablIzWVhKbElFVnVaMmx1WldWeWFXNW5NU0l3SUFZRFZRUUREQmwzZDNjdWJXOWtiM1JsWTJoemIyeDFkR2x2Ym5NdVkyOXRNU3d3S2dZSktvWklodmNOQVFrQkZoMXpkWEJ3YjNKMFFHMXZaRzkwWldOb2MyOXNkWFJwYjI1ekxtTnZiVEFlRncweE9EQXpNRE15TURVME5URmFGdzB4T1RBek1ETXlNRFUwTlRGYU1JRytNUXN3Q1FZRFZRUUdFd0pWVXpFTE1Ba0dBMVVFQ0F3Q1EwRXhGVEFUQmdOVkJBY01ERWRoY21SbGJpQkhjbTkyWlRFYU1CZ0dBMVVFQ2d3UlRXOWtiMVJsWTJoVGIyeDFkR2x2Ym5NeEhUQWJCZ05WQkFzTUZGTnZablIzWVhKbElFVnVaMmx1WldWeWFXNW5NU0l3SUFZRFZRUUREQmwzZDNjdWJXOWtiM1JsWTJoemIyeDFkR2x2Ym5NdVkyOXRNU3d3S2dZSktvWklodmNOQVFrQkZoMXpkWEJ3YjNKMFFHMXZaRzkwWldOb2MyOXNkWFJwYjI1ekxtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFLTGEwdVdvVmFLdW1iaWhSbkRNMmxkOXdhbHR5OGZoWTZXYlZEeVpzRmRCWmtKNzdCZVNheGpudTAyOXpGb0lRYXRSUlR4RjJxd1BwSDdzU3ZIT1VKSFl4UVBTTS92aFl6c25VTXZFTk1ESHdSUVVVVUxxN29UYkM4SGZKYnNWN3VrSWhVOTE5Rk04bUxoWGNYSUUyNW1OTzlUWVhoTWZQOTFmSVd2VjJaU05VQ2ZYdkszcnIydUkwVERBeVp0cmtRblNpZzRwZHpxZnlWc2dMMENkR1IwQWxlSlZvZ2ZRR3lnWWxhcmdIWU5ZN1dvb20rVld4d21ZbHJxcTVqRnlsOTI3VTJkS2VBM2tIb3prcTZmeGNuRXRQclFBL050VzV1OHFDNW5pMlNsTWRidmYzc3daMUI3NVVOcW5NZ3pWMzJkU3k4ZXBSZU1YSnFxdm1IVTNYVjhDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFRkRFaWRnVTFtWWFEeStkN3lVSXExMjZsZzIwSE1COEdBMVVkSXdRWU1CYUFGREVpZGdVMW1ZYUR5K2Q3eVVJcTEyNmxnMjBITUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUZwUnMxSjh3Mm95QmJJY2Jzd2czaFR3MndMMzhILzJiMnBPUnlGSHhxTG8reGdjWXpnSmlULzBSZmxwNU1FV1YzdW1haWtmbjNPTjd1TkhKK281MkZ0aUVMWkN0RFRSVDNGVHNyM1FIVlk2ek5UVXNJRVNacG5OTHAvK2JRbEZ5ZXhwMmk4MWxxQzM2RXYyeWJwa3VYY1NVNS9NNXZzU3JFRitraUs3Tk52cWhIWVgxN3A3WU5JMGhXVWNpM2hLMk8xM2lIbytwSURKOE9rdUVVeEdaNGhOQldIdDhZN3pmUnFiTVB5Ri9uL1dlMkxrMFk4a0NLWml1b0ozSzdaSm51RnM3K1UwOWVYVHJpN242UGJZUk92bTlOV3VnTTZFaVlpQndTODYvMUI2c1NPUGhCVWxHSE9RVmNNWlg0QzRNcklrTmxSMmxTTjdRMGMrb1pQZ3hsRT08L1g1MDlDZXJ0aWZpY2F0ZT48L1g1MDlEYXRhPjwvS2V5SW5mbz48L1NpZ25hdHVyZT48U3RhdHVzPjxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiIC8%2bPC9TdGF0dXM%2bPEFzc2VydGlvbiBWZXJzaW9uPSIyLjAiIElEPSJfNGNiODEzNTQtYjZjMS00OWYwLWI5N2YtOGFkY2I4NjIwOWQzIiBJc3N1ZUluc3RhbnQ9IjIwMTgtMDMtMDRUMDM6MzU6MTYuNjgyMDEyWiIgeG1sbnM9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iPjxJc3N1ZXI%2bVGVzdCBQb3N0IFNBTUw8L0lzc3Vlcj48U3ViamVjdD48TmFtZUlEIE5hbWVRdWFsaWZpZXI9Im1kYXZpZHNwOC5jb20iPjE4PC9OYW1lSUQ%2bPFN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE4LTAzLTA0VDAzOjQwOjE2LjY4MzAxNTBaIiBSZWNpcGllbnQ9Imh0dHA6Ly93d3cuZGF2aWRzcDguY29tL1NTTy5hc214IiAvPjwvU3ViamVjdENvbmZpcm1hdGlvbj48L1N1YmplY3Q%2bPENvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE4LTAzLTA0VDAzOjM1OjE2LjY4MjAxMloiIE5vdE9uT3JBZnRlcj0iMjAxOC0wMy0wNFQwMzo0MDoxNi42ODIwMTJaIj48QXVkaWVuY2VSZXN0cmljdGlvbj48QXVkaWVuY2U%2bbWRhdmlkc3A4LmNvbTwvQXVkaWVuY2U%2bPC9BdWRpZW5jZVJlc3RyaWN0aW9uPjwvQ29uZGl0aW9ucz48QXV0aG5TdGF0ZW1lbnQgQXV0aG5JbnN0YW50PSIyMDE4LTAzLTA0VDAzOjM1OjE2LjY4MjAxMloiPjxBdXRobkNvbnRleHQ%2bPEF1dGhuQ29udGV4dENsYXNzUmVmPkF1dGhuQ29udGV4dENsYXNzUmVmPC9BdXRobkNvbnRleHRDbGFzc1JlZj48L0F1dGhuQ29udGV4dD48L0F1dGhuU3RhdGVtZW50PjxBdHRyaWJ1dGVTdGF0ZW1lbnQ%2bPEF0dHJpYnV0ZSBOYW1lPSJlbWFpbCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2bPEF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj5wZG85MTQxQGdtYWlsLmNvbTwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPEF0dHJpYnV0ZSBOYW1lPSJmaXJzdG5hbWUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6YmFzaWMiPjxBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHNkOnN0cmluZyI%2bUGhpbGxpcDwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPEF0dHJpYnV0ZSBOYW1lPSJsYXN0bmFtZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2bPEF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj5EbzwvQXR0cmlidXRlVmFsdWU%2bPC9BdHRyaWJ1dGU%2bPC9BdHRyaWJ1dGVTdGF0ZW1lbnQ%2bPC9Bc3NlcnRpb24%2bPC9SZXNwb25zZT4%3d&RelayState=http%3a%2f%2fwww.davidsp8.com";
        }
    }
}